---
import type { Props } from '@astrojs/starlight/props';
import Default from '@astrojs/starlight/components/ThemeProvider.astro';
---

<Default {...Astro.props}><slot /></Default>

{/* This is intentionally inlined to avoid FOUC. */}
<script is:inline>
	window.StarlightThemeProvider = (() => {
		const themeProvider = window.StarlightThemeProvider;

		return {
			updatePickers(theme) {
				themeProvider.updatePickers(theme);
				window.dispatchEvent(new CustomEvent('theme-change', { detail: { theme } }));
			},
		};
	})();
</script>